<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <img src="./img/logo.png" alt="recomendacion" class="logo-img"/>
    <div class="backgrounds"></div>
    
    <div class="options">
        <ul id="Menu">
        <a class="get_recomendation"  target="_blank">
            <p>Ingresa el nombre de un anime para recibir recomendaciones similares:</p>
            <input type="text" id="animeInput" placeholder="Ingrese un anime...">
            <button onclick="getRecommendations()">Obtener Recomendaciones</button>
            <div id="recommendations"></div>
        </a>       
        </ul>
    </div>

    <script>
        function getRecommendations() {
            var animeName = document.getElementById('animeInput').value;

            fetch('http://127.0.0.1:5000/get_recommendations?anime_name=' + animeName, {
                method: 'GET'
            })
            .then(response => response.json())
            .then(data => {
                const recommendations = data.recommendations; 
                const recommendationsContainer = document.createElement('div');
                recommendationsContainer.classList.add('recommendations-container');
                recommendations.forEach(anime => {
                    const animeElement = document.createElement('p');
                    animeElement.textContent = anime;
                    recommendationsContainer.appendChild(animeElement);
                });
                const recommendationsDiv = document.getElementById('recommendations');
                recommendationsDiv.innerHTML = '';
                recommendationsDiv.appendChild(recommendationsContainer);
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
